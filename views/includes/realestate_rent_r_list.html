<div class="panel panel-default">
    <div class="panel-body">
        <div class="row">
            <div class="col-md-12">
                <ul class="list-inline">
                    <li ng-repeat="district in districts">
                        <a href="javascript:void(0)" ng-click="removeQuery('region_district','district')" ng-if="district=='全部'">
                            {{district}}
                        </a>
                        <a href="javascript:void(0)" ng-click="addQuery('region_district',district,'district','区/县')" ng-if="district!='全部'">
                            {{district}}
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <hr/>
        <div class="row">
            <ul class="list-inline col-md-12">
                <li>
                    <a href="javascript:void(0)" ng-click="removeQuery('desc.type','type')">全部</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','四室两厅双卫','type','户型')">四室两厅双卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','四室两厅独卫','type','户型')">四室两厅独卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','四室一厅双卫','type','户型')">四室一厅双卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','四室一厅独卫','type','户型')">四室一厅独卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','三室两厅双卫','type','户型')">三室两厅双卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','三室两厅独卫','type','户型')">三室两厅独卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','三室一厅双卫','type','户型')">三室一厅双卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','三室一厅独卫','type','户型')">三室一厅独卫</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','二室一厅','type','户型')">二室一厅</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','一室一厅','type','户型')">一室一厅</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','大开间','type','户型')">大开间</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type','其他','type','户型')">其他</a>
                </li>
            </ul>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-12">
                <form class="form-horizontal" name="form_re_rent_r_size" role="form">
                    <div class="form-group has-feedback">
                        <div class="col-md-3">
                            <input type="number" maxlength="4" ng-model="query_digit.size_low"
                                   ng-pattern="/^[1-9][0-9]{1,3}$/" name="re_rent_other_size_low"
                                   ng-required="true" class="form-control input-sm">
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-if="form_re_rent_r_size.re_rent_other_size_low.$valid"></span>
                            <div class="help-block"
                                 ng-if="(form_re_rent_r_size.re_rent_other_size_low.$invalid&&
                                 form_re_rent_r_size.re_rent_other_size_low.$dirty)||
                                (form_re_rent_r_size.re_rent_other_size_high.$invalid&&
                                form_re_rent_r_size.re_rent_other_size_high.$dirty)||
                                query_digit.size_high<query_digit.size_low">
                                <p class="label label-warning">
                                    2-4位数字。后面的数字要大于前面的数字。
                                </p>
                            </div>
                        </div>
                        <div class="col-md-1"><h5 class="text-center">—</h5></div>
                        <div class="col-md-3">
                            <input type="number" maxlength="4" ng-model="query_digit.size_high"
                                   ng-pattern="/^[1-9][0-9]{1,3}$/" name="re_rent_other_size_high"
                                   ng-required="true" class="form-control input-sm">
                            <span class="glyphicon glyphicon-ok form-control-feedback" ng-if="form_re_rent_r_size.re_rent_other_size_high.$valid">
                            </span>
                        </div>
                        <div class="col-md-2"><h5 class="text-left">平米</h5></div>
                        <div class="col-md-1">
                            <button class="btn btn-primary btn-sm" ng-click="addQueryRange('desc.size',query_digit.size_low,query_digit.size_high,'size','面积','平米')"
                                    ng-if="form_re_rent_r_size.$valid&&query_digit.size_high>=query_digit.size_low">
                                筛选
                            </button>
                            <button class="btn btn-primary btn-sm" ng-if="form_re_rent_r_size.$invalid||query_digit.size_high<query_digit.size_low" disabled>
                                筛选
                            </button>
                        </div>
                        <div class="col-md-1">
                            <button class="btn btn-default btn-sm" ng-click="removeQueryRange('desc.size','size_low','size_high','size')">
                                不限
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-12">
                <form class="form-horizontal" name="form_re_rent_r_price" role="form">
                    <div class="form-group has-feedback">
                        <div class="col-md-3">
                            <input type="number" maxlength="5" ng-model="query_digit.price_low"
                                   ng-pattern="/^[1-9][0-9]{1,4}$/" name="re_rent_other_price_low"
                                   ng-required="true" class="form-control input-sm">
                            <span class="glyphicon glyphicon-ok form-control-feedback"
                                  ng-if="form_re_rent_r_price.re_rent_other_price_low.$valid"></span>
                            <div class="help-block"
                                 ng-if="(form_re_rent_r_price.re_rent_other_price_low.$invalid&&
                                 form_re_rent_r_price.re_rent_other_price_low.$dirty)||
                                (form_re_rent_r_price.re_rent_other_price_high.$invalid&&
                                form_re_rent_r_price.re_rent_other_price_high.$dirty)||
                                query_digit.price_high<query_digit.price_low">
                                <p class="label label-warning">
                                    2-5位数字。后面的数字要大于前面的数字。
                                </p>
                            </div>
                        </div>
                        <div class="col-md-1"><h5 class="text-center">—</h5></div>
                        <div class="col-md-3">
                            <input type="number" maxlength="5" ng-model="query_digit.price_high"
                                   ng-pattern="/^[1-9][0-9]{1,4}$/" name="re_rent_other_price_high"
                                   ng-required="true" class="form-control input-sm">
                            <span class="glyphicon glyphicon-ok form-control-feedback" ng-if="form_re_rent_r_price.re_rent_other_price_high.$valid">
                            </span>
                        </div>
                        <div class="col-md-2">
                            <h5 class="text-left">元/月</h5>
                        </div>
                        <div class="col-md-1">
                            <button class="btn btn-primary btn-sm" ng-click="addQueryRange('desc.price',query_digit.price_low,query_digit.price_high,'price','租金','元/月')"
                                    ng-if="form_re_rent_r_price.$valid&&query_digit.price_high>=query_digit.price_low">
                                筛选
                            </button>
                            <button class="btn btn-primary btn-sm" ng-if="form_re_rent_r_price.$invalid||query_digit.price_high<query_digit.price_low" disabled>
                                筛选
                            </button>
                        </div>
                        <div class="col-md-1">
                            <button class="btn btn-default btn-sm" ng-click="removeQueryRange('desc.price','price_low','price_high','price')">
                                不限
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <hr/>
        <div class="row">
            <ul class="list-inline col-md-12">
                <li>
                    <a href="javascript:void(0)" ng-click="removeQuery('desc.type_room','type_room')">全部</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type_room','整租','type_room','出租类型')">整租</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type_room','房间','type_room','出租类型')">房间</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type_room','隔断','type_room','出租类型')">隔断</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type_room','床位','type_room','出租类型')">床位</a>
                </li>
                <li>
                    <a href="javascript:void(0)" ng-click="addQuery('desc.type_room','其他','type_room','出租类型')">其他</a>
                </li>
            </ul>
        </div>
        <hr/>
        <div class="row">
            <div class="col-md-8 center-block">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="搜索想要的信息，关键词以空格隔开。最多30个字符。"
                           ng-model="List.s_search" maxlength="30"/>
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button"
                                    ng-click="addQuery_searchBar(['title'])">
                                <span class="glyphicon glyphicon-search"></span>
                            </button>
                        </span>
                </div>
            </div>
            <div class="col-md-3"></div>
        </div>
        <hr/>
        <div class="row" ng-if="count_query_display>0">
            <ul>当前筛选条件：
                <li ng-repeat="cond in query_display">{{cond}}</li>
            </ul>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-body">
        <div ng-repeat="entry in entries">
            <div class="row">
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-1">
                            <h4 class="text-left"><span class="glyphicon glyphicon-hand-right"></span></h4>
                        </div>
                        <div class="col-md-11">
                            <h4><a href="{{current_city}}/detail/{{entry._id}}" target="_blank">{{entry.title}}</a></h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <p class="text-left"><span class="glyphicon glyphicon-info-sign"></span></p>
                        </div>
                        <div class="col-md-11">
                            <p>{{entry.desc.name_residence}}，{{entry.desc.type}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <p class="text-left"><span class="glyphicon glyphicon-map-marker"></span></p>
                        </div>
                        <p class="col-md-11">{{entry.region_district}}，{{entry.region_addr}}</p>
                    </div>
                    <div class="row">
                        <div class="col-md-1">
                            <p class="text-left"><span class="glyphicon glyphicon-picture"></span></p>
                        </div>
                        <div class="col-md-11">
                            <p>{{entry.pic_count}}图</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <h4 class="text-center">{{entry.desc.price}}元/月</h4>
                    <p class="text-center">{{entry.desc.type_deposit}}</p>
                </div>
            </div>
            <hr/>
        </div>
    </div>
</div>